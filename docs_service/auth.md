## 认证服务

### 需求

- 实现用户登录注册
- 实现用户组的功能
- 实现JWT验证
- 实现路由权限验证
- 实现角色继承

### 功能

- 登录
- 注册
- 验证码
- JWT验证
- 路由权限验证
- 更新JWT
- 获取用户（群查，单查）
- 用户修改自己的账号信息
- 创建用户组
- 添加成员加入用户组
- 获取用户组（群查，单查）
- 设置用户组
- 删除用户组
- 获取用户组里的用户（群查，单查）
- 获取角色（群查，单查）
- 添加角色
- 删除角色
- 更改角色
- 为某个角色添加权限
- 删除某个角色的权限
- 获取某个角色的权限
- 更改某个用户的角色
- 获取路由
- 添加路由
- 删除路由
- 更新路由

### 错误码

```
1000 未知故障
1001 用户名不存在
1002 密码错误
1003 验证码错误
1004 token无效
1005 token过期
1006 登录过期
1007 重复请求
1008 用户名已存在
1009 邮箱不正确
1010 邮箱存在
```

### 角色与权限

#### 角色

> 权限的载体

##### 管理员

> 管理系统，管理用户、权限分配、管理数据、管理资源
>
> 拥有教师的权限，可管理所有教师的班级，可拥有学生的权限
>
> 互斥角色：匿名

##### 教师

> 管理班级、管理题目、管理考试
>
> 注意：只能管理自己创建的数据 
>
> 互斥角色：学生、匿名

##### 学生

> 修改个人信息、参加考试、提交题目
>
> 互斥角色：匿名

##### 匿名

> 查看题目、查看公开的考试、查看公开的竞赛、查看公告
>
> 互斥角色：其他角色

#### 权限结构

- 路由权限
  - 请求类型
  - 路由
  - URL参数
  - Body参数

### 注意

数据库名与数据库文件名同名