# 设计文档

## 仓库架构

- learning-hub: 主仓库
  - learning-hub-serive: 后端主业务
  - learning-hub-web: 前端主业务
  - learning-hub-admin: 后台管理系统
  - learning-hub-service-judger：判题服务
  - learning-hub-service-role：权限服务

## 系统架构

![image-20200513133838500](%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.assets/image-20200513133838500.png)

### 主要服务

#### 判题服务

> 实现选择、填空、判断、程序填空、程序运行的题型判断。

#### 主业务服务

> 实现主要的后端业务，包括登录注册、权限分配等核心功能。

#### 网关服务

> 实现路由分发，均衡负载。

#### 配置服务

> 实现配置的管理。

#### 邮箱消息服务

> 通过电子邮箱的方式实现消息传递

### 角色与权限

#### 所有可分配权限

- 路由权限
  - API权限：访问权限 { 0, 1 }
  - 主机权限：访问权限 { 0, 1 }
  - 页面权限：访问权限 { 0, 1 }
- 数据库权限
  - 表权限：添加数据、删除数据、修改数据、查找数据 { 0, 1, 2, 4, 8 }
    - 字段权限：读、写 { 0, 1, 2 }
- 权限操作权限
  - 权限分配、权限修改 { 0, 2 }

#### 权限值

0 -> 无权限

1 -> 添加权限、权限分配、读、访问权限

2 -> 查找数据、权限修改、写

4 -> 修改数据

8 -> 删除数据

> 提示：权限可以进行组合，如 3 表示 1的权限+2的权限

#### 角色

> 权限的载体

##### 管理员

> 管理系统，管理用户、权限分配、管理数据、管理资源
>
> 拥有教师的权限，可管理所有教师的班级，可拥有学生的权限
>
> 互斥角色：匿名

##### 教师

> 管理班级、管理题目、管理考试
>
> 注意：只能管理自己创建的数据 
>
> 互斥角色：学生、匿名

##### 学生

> 修改个人信息、参加考试、提交题目
>
> 互斥角色：匿名

##### 匿名

> 查看题目、查看公开的考试、查看公开的竞赛、查看公告
>
> 互斥角色：其他角色

## 学校连接的认证方式

![流程图](%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.assets/image-20200513224242972.png)

> 学校A可以授权给学校B调用API的权限

### 学校联合后的功能

- 两个学校的学生可以跨学校竞赛，跨学校练习，跨学校交流
- 共享排行榜

> 注意：学校联合后只有学生有访问边人学校的权利，老师和管理员会自动降为学生（只是在显示上是老师）

## 角色结构设计

```js
role = {
    router:{
        <路由>:<权限值>
    },
    db:{
        <表名>:{
        	w:<权限值>,
       		field:{ 
        		<字段名>:<权限值>
    		}
    	}
    }
}
```



## 数据库设计

### 公共字段

> 默认所有的表都存在的字段，除非说明

```js
{
    id:Int(8, PK),// ID
    isDisable:Boolean(1, false), // 是否禁用 默认:false
    isDel:Boolean(1, false), // 是否删除 默认:false
    createdAt:Date, // 创建时间
    updatedAt:Date, // 更新时间
}
```

### 学校表

> 存储着所有学校的请求，token为空表示本机

```js
schools = {
    name:Varchar(16, not_null), // 学校名称
    info:Varchar(254), // 学校介绍
    link:Varchar(254, unique), // 学校服务主机，如http://localhost:80
    token:Varchar(254), // 连接其他学校的密码
}
```

### 授权表

> 存储着已经授权了的学校

```js
authorizations = {
    name:Varchar(16, not_null), // 学校名
    signedKey:Varchar(254,not_null), // 签名KEY
    host:Varchar(254,not_null), // 请求主机
    expires_in:Int(16, not_null), // 过期时间（s） 默认：0表示永不过期
}
```

### 用户表

> 存储着所有用户的信息

```js
users = {
    schoolId:Int,//学校ID
    roleId:Varchar, //角色ID
    name:Varchar(32, not_null), //姓名
    nick:Varchar(32, not_null), //昵称
    sex:Varchar(1,[男, 女]),//性别
    email:Varchar(128,unique), //电子邮箱
    author:Varchar(254, not_null), //头像
    note:Varchar(254) // 备注说明，或者个性签名,
    username:Varchar(64, unique), //用户名
    password:Varchar(254,unique), //密码
    signedKey:Varchar(254,unique), //加密KEY
    isOnline:Boolean(1,false), //是否在线
    acCount:Int(10, 0), //AC题数
    submitCount:Int(10, 0), //提交数
    gameCount:Int(10,0), //参加比赛数
	reward:Int(10,0), //积分
	exp:Int(10,0), //经验值
}
```

### 班级表

> 班级表

```js
classes = {
    name:Varchar(32,unique), // 班级名称
    info:Varchar(254), // 介绍
    number:Int(10,0), // 人数
    note:TEXT(), // 公告
    isOpen:Boolean(1,false), //是否可加入
    userId:Int(10)， //哪个用户创建的
}
```

### 用户班级表

> 用户表与班级表的关系

```js
userAndClass = {
    userId:Int(),
    classId:Int(),
}
PK(userId,classId)//联合主键
```

### 竞赛表

> 存储竞赛信息

```js
games = {
    title:Varchar(64,not_null),
    context:TEXT(),
    startTime:Varchar(),
    endTime:Varchar(),
    isPrivate:Boolean(), //是否私有
    password:Varchar(), //进入密码
    message:Text(), //公共消息
    otherContext:Text(), //其他
    limitNum:Int()， //限制人数
}
```

```js
otherContext = {
    award:[ //奖励
        {
            context:String,
            num:Number, //积分
        }
    ],
    flow:[ //流程
        {
            context:String,
            date:String
        }
    ]
}
```

### 竞赛题目表

> 存储比赛题目

```js
gameProblem = {
    gameId:Int(),
    problemType:Varchar(),//填类型
    problemId:Int(),
    title:Varchar(),
    order:Int(), // 排序值
    acCount:Int(),
    submitCount:Int(),
}
```

### 竞赛人员表

> 存储比赛人员信息

```js
gameUser = {
    gameId:Int(),
    userId:Int(),
    acCount:Int(),
    submitCount:Int(),
    okRate:Int(), //正确率
    lastAcTime:Varchar(),//最后AC时间
}
```

### 公共消息表

> 公共消息系统

```js
messages = {
	sendUserId:Int(),
	acceptUserId:Int(),
	title:Varchar(),
	context:Text(),
}
```



### 选择题库（判题系统）

> 存放选择题

```js
problemSelect = {
    title:Varchar(32),
    content:TEXT(), //内容
    hint:Varchar(254), //提示
    source:Varchar(128), //来源
    tags:Varchar(254), //标签 ["算法","普通"]
    hard:Int(2), //难度
    acCount:Int(), //AC数
    submitCount:Int(), //提交数
    order:Int(10,0), //排序值
    
    isRadio:Boolean(), //是否为单选
    options:Varchar(254), //选项 ["选项1","选项2","选项3","选项4"]
    answers:Varchar(254), //答案 ["答案1"]
}
```

### 填空题库（判题系统）

> 存放填空题

```js
problemFill = {
    title:Varchar(32),
    content:TEXT(), //内容
    hint:Varchar(254), //提示
    source:Varchar(128), //来源
    tags:Varchar(254), //标签 ["算法","普通"]
    hard:Int(2), //难度
    acCount:Int(), //AC数
    submitCount:Int(), //提交数
    order:Int(10,0), //排序值
    
    isPlain:Boolean(),//是否为普通题
    answers:Varchar(254), //正确内容 ["关键字1","关键字2"]
}
```

### 程序题库（判题系统）

> 存放编程题

```js
problemCode = {
    title:Varchar(32),
    content:TEXT(), //内容
    hint:Varchar(254), //提示
    source:Varchar(128), //来源
    tags:Varchar(254), //标签 ["算法","普通"]
    hard:Int(2), //难度
    acCount:Int(), //AC数
    submitCount:Int(), //提交数
    order:Int(10,0), //排序值
    
	source:TEXT(), //程序源码
    inputExplain:Varchar(254), //输入说明
    outputExplain:Varchar(254), //输出说明
    inputSample:Varchar(254),//输入示例
    outputSample:Varchar(254),//输出示例
    timeLimit:Int(10),//时间限制，毫秒
    memoryLimit:Int(10),//空间限制
}
```

### 用户提交表（判题系统）

> 用户提交的表

```js
submits = {
    problemId: Int(10), //题Id
    userId: Int(10), // 用户ID
    gameId: Int(), //竞赛ID
    lang:Int(), //使用的语言
    code:TEXT(), //用户代码，或者填空，选择填的内容
    codeLen:Int(), //代码长度
    passRate:Int(), //通过率
    type:Varchar(10), //题的类型，select,fill,code
	time:Int(10), //耗费多少毫秒
    memory:Int(10), //耗费多少B空间
    status:Int(), //状态码
    ip:Varchar(), //IP地址
}
```

```
0 成功
1 队列中
2 判题中
3 答案错误
4 格式错误
5 编译错误
6 运行错误
7 时间超限
8 内存超限
```

## Session设计

```js
{
    user:{},
	role:{}
}
```

## API设计

### 说明

#### 参数类型

- params：表示拼接在get后面的参数
- body:表示Post值

#### 分页

所有API的响应中如果存在数组类型的数据都应该有分页功能,具体格式如下。

请求：

```js
params = {
	...,
	page:{
        num:Number, //页码,[1,∞)
        size:Number, //每页的个数
    }
}
```

响应：

```js
{
	...,
	page:{
        num,
        size,
        total,//总页数
        count,//总条数
    }
}
```

### API

#### 用户/管理员登录

接口: POST /api/v1/login

条件: 无

请求:

```js
{
	username:String,//*用户名
    password:String,//*密码
    code:String,//验证码
}
```

响应:

```js
{
	statusCode:Number, //状态码,0失败	1成功
	message:String, //信息
	data:{ //-+ 1.0.1
		user:{
            id:Int,
            schoolName:Int,//学校ID
            name:Varchar(32, not_null), //姓名
            nick:Varchar(32, not_null), //昵称
            sex:Varchar(1,[男, 女]),//性别
            email:Varchar(128,unique), //电子邮箱
            author:Varchar(254, not_null), //头像
            note:Varchar(254) // 备注说明，或者个性签名,
            username:Varchar(64, unique), //用户名
            isOnline:Boolean(1,false), //是否在线
            acCount:Int(10, 0), //AC题数
            submitCount:Int(10, 0), //提交数
            gameCount:Int(10,0), //参加比赛数
            reward:Int(10,0), //积分
            exp:Int(10,0), //经验值
            createdAt:Date, // 创建时间
    		updatedAt:Date, // 更新时间
        },
        role:{
            role_id:Number,//角色id
            name:String,//角色名称
            note:String,//角色说明
            is_login:Number,//是否允许登录
            is_to_back:Number,//是否允许进入后台
            is_get_user:Number,//是否允许获取用户信息
            is_ope_user:Number,//是否允许操作用户表
            is_get_role:Number,//是否允许读取权限信息
            is_ope_role:Number,//是否允许操作权限信息
            is_get_problem:Number,//是否允许获取题库
            is_ope_problem:Number,//是否允许操作题库
            is_get_contest:Number,//是否允许获取竞赛
            is_ope_contest:Number,//是否允许操作竞赛
            is_get_contest_problem:Number,//是否允许获取竞赛中的题
            is_ope_contest_problem:Number,//是否允许操作竞赛中的题
            is_get_contest_user:Number,//是否获取竞赛中的用户
            is_ope_contest_user:Number,//是否允许操作竞赛中的用户
            is_get_message:Number,//是否允许获取公告信息
            is_ope_message:Number,//是否允许操作公告信息
            is_submit_code:Number,//是否提交代码
            is_get_solution:Number,//是否允许获取状态
            is_get_class:Number,//+1.0.1 是否允许读取班级
            is_opt_class:Number,//+1.0.1 是否允许操作班级
        }
    }
}
```

#### 获取当前登录状态 //+ 1.0.1

接口: POST /api/v1/getLoginInfo

条件: 必须登录

请求:无

响应:

```js
{
	statusCode:Number, //状态码,0失败	1成功
	message:String, //信息
	data:{
		login:{
            user_id:Number,//用户id
            username:String,//账号
            nickname:String,//昵称
            own_sign:String,//个性签名 +1.0.1
            via:String,//头像 +1.0.1
            name:String,//姓名
            sex:Number,//性别 check(0,1) 0表示男,1表示女
            school_id:Number,//学校id
            class_id:Number,//班级id
            in_date:DateString,//创建时间
            last_date:DateString,//上次登录
            email:String,//电子邮箱
            gitee_username:String,//gitee账号 +1.0.1
            role_id:Number,//角色id
            submit_count:Number,//提交次数
            ac_count:Number,//完成的题数
            poi:Number,//积分 +1.0.1 
            exp:Number,//经验值
        },
        role:{
            role_id:Number,//角色id
            name:String,//角色名称
            note:String,//角色说明
            is_login:Number,//是否允许登录
            is_to_back:Number,//是否允许进入后台
            is_get_user:Number,//是否允许获取用户信息
            is_ope_user:Number,//是否允许操作用户表
            is_get_role:Number,//是否允许读取权限信息
            is_ope_role:Number,//是否允许操作权限信息
            is_get_problem:Number,//是否允许获取题库
            is_ope_problem:Number,//是否允许操作题库
            is_get_contest:Number,//是否允许获取竞赛
            is_ope_contest:Number,//是否允许操作竞赛
            is_get_contest_problem:Number,//是否允许获取竞赛中的题
            is_ope_contest_problem:Number,//是否允许操作竞赛中的题
            is_get_contest_user:Number,//是否获取竞赛中的用户
            is_ope_contest_user:Number,//是否允许操作竞赛中的用户
            is_get_message:Number,//是否允许获取公告信息
            is_ope_message:Number,//是否允许操作公告信息
            is_submit_code:Number,//是否提交代码
            is_get_solution:Number,//是否允许获取状态
            is_get_class:Number,//+1.0.1 是否允许读取班级
            is_opt_class:Number,//+1.0.1 是否允许操作班级
        }
    }
}
```

#### 获取系统信息

接口: POST /api/v1/getSystemInfo

条件: 无

请求: 无

响应：

```js
{
	statusCode:Number,
	message:String,
	data:{
		system:String,//系统的版本
		java:String,//JAVA的版本
		mysql:String,//Mysql的版本
		online:Number,//在线人数
		runtime:Date,//运行时间
	}
}
```



#### 获取用户信息

接口: POST /api/v1/getUserList

条件：指定权限的用户才可操作

请求：

```js
{
    filterAnd:[ //并且条件
        {
            field:String,//['user_id', 'username', 'nickname', 'name','class_id'] 筛选字段
            text:String,//*筛选关键字
            is_like:Number,//[0,1]是否开启模糊查找
        }
    ],
    filterOr:[ //或者条件
        {
            field:String,//['user_id', 'username', 'nickname', 'name','class_id'] 筛选字段
            text:String,//*筛选关键字
            is_like:Number,//[0,1]是否开启模糊查找
        }
    ],
    orderBy:{
        field:String,//[ 'username','in_date','class_id','poi'] 根据哪个字段排序
        mode:String,//['ASC','DESC'] ASC为升序 DESC为降序	
    }
} 
```

响应:

```js
{
	statusCode:Number,
    message:String,
    data:[
        {
            index:Number,//绝对序号
            user_id:Number,//用户id
            username:String,//账号
            password:String,//账号
            nickname:String,//昵称
            own_sign:String,//个性签名 +1.0.1
            via:String,//头像 +1.0.1
            name:String,//姓名
            sex:Number,//性别 check(0,1) 0表示男,1表示女
            school_id:Number,//学校id
            class_id:Number,//班级id
            in_date:DateString,//创建时间
            last_date:DateString,//上次登录
            email:String,//电子邮箱
            gitee_username:String,//gitee账号 +1.0.1
            role_id:Number,//角色id
            submit_count:Number,//提交次数
            ac_count:Number,//完成的题数
            poi:Number,//积分 +1.0.1 
            exp:Number,//经验值
        } 
    ]
}
```

#### 用户的操作

接口: POST /api/v1/userOperate

条件：指定权限的用户才可操作

请求：

```js
{
	active:Number,//* [0,1,-1] 0表示修改 -1表示删除 1表示添加
    //--active:0--
        user_id:Number,//用户id
        password:String,//密码
        nickname:String,//昵称
        own_sign:String,//个性签名 +1.0.1
        via:String,//头像 +1.0.1
        name:String,//姓名
        sex:Number,//性别 check(0,1) 0表示男,1表示女
        class_id:Number,//班级id
        email:String,//电子邮箱
        role_id:Number,//权限id
    //--END--
	//--active:1--
        username:String,//用户
        password:String,//密码
        nickname:String,//昵称
        own_sign:String,//个性签名 +1.0.1
        via:String,//头像 +1.0.1
        name:String,//姓名
        sex:Number,//性别 check(0,1) 0表示男,1表示女
        class_id:Number,//班级id
        role_id:Number,//权限id
        email:String,//电子邮箱
    //--END--
	//--active:-1--
        user_id:Number,//用户id
	//--END--
}
```

响应:

```js
{
	statusCode:Number,
    message:String,
    data:{
        user_id:Number,//用户id
        password:String,//密码
        nickname:String,//昵称
        own_sign:String,//个性签名 +1.0.1
        via:String,//头像 +1.0.1
        name:String,//姓名
        sex:Number,//性别 check(0,1) 0表示男,1表示女
        school_id:Number,//学校id
        class_id:Number,//班级id
        in_date:DateString,//创建时间
        last_date:DateString,//上次登录
        email:String,//电子邮箱
        gitee_username:String,//gitee账号 +1.0.1
        gitee_token:String,//操作gitee的授权码
        role_id:Number,//角色id
        role_name:String,//角色名称
    }
}
```
#### 获取角色列表

接口：POST  /api/v1/getRoleList

条件：拥有相应的权限

请求：

响应：

```js
{
	statusCode:Number,
	message:String,
	data:[
	{
		role_id:Number,//角色id
        name:String,//角色名称
        note:String,//角色说明
        is_login:Number,//是否允许登录
        is_to_back:Number,//是否允许进入后台
        is_get_user:Number,//是否允许获取用户信息
        is_ope_user:Number,//是否允许操作用户表
        is_get_role:Number,//是否允许读取权限信息
        is_ope_role:Number,//是否允许操作权限信息
        is_get_problem:Number,//是否允许获取题库
        is_ope_problem:Number,//是否允许操作题库
        is_get_contest:Number,//是否允许获取竞赛
        is_ope_contest:Number,//是否允许操作竞赛
        is_get_contest_problem:Number,//是否允许获取竞赛中的题
        is_ope_contest_problem:Number,//是否允许操作竞赛中的题
        is_get_contest_user:Number,//是否获取竞赛中的用户
        is_ope_contest_user:Number,//是否允许操作竞赛中的用户
        is_get_message:Number,//是否允许获取公告信息
        is_ope_message:Number,//是否允许操作公告信息
        is_submit_code:Number,//是否提交代码
        is_get_solution:Number,//是否允许获取状态
        is_get_solution_rank:number,//是否允许获取排名
        is_get_class:Number,//+1.0.1 是否允许读取班级
    	is_opt_class:Number,//+1.0.1 是否允许操作班级
	}]
}
```

#### 角色的操作

接口：POST /api/v1/roleOperate

条件：拥有相应的权限

请求：

```js
{
	active:Number,//0表示修改 -1表示删除 1表示添加
    //--active:0--
		role_id:Number,//角色id
        name:String,//角色名称
        note:String,//角色说明
        is_login:Number,//是否允许登录
        is_to_back:Number,//是否允许进入后台
        is_get_user:Number,//是否允许获取用户信息
        is_ope_user:Number,//是否允许操作用户表
        is_get_role:Number,//是否允许读取权限信息
        is_ope_role:Number,//是否允许操作权限信息
        is_get_problem:Number,//是否允许获取题库
        is_ope_problem:Number,//是否允许操作题库
        is_get_contest:Number,//是否允许获取竞赛
        is_ope_contest:Number,//是否允许操作竞赛
        is_get_contest_problem:Number,//是否允许获取竞赛中的题
        is_ope_contest_problem:Number,//是否允许操作竞赛中的题
        is_get_contest_user:Number,//是否获取竞赛中的用户
        is_ope_contest_user:Number,//是否允许操作竞赛中的用户
        is_get_message:Number,//是否允许获取公告信息
        is_ope_message:Number,//是否允许操作公告信息
        is_submit_code:Number,//是否提交代码
        is_get_solution:Number,//是否允许获取状态
        is_get_solution_rank:number,//是否允许获取排名
        is_get_class:Number,//+1.0.1 是否允许读取班级
  	   is_opt_class:Number,//+1.0.1 是否允许操作班级
 	//--END--
	//--active:1--
        name:String,//角色名称
        note:String,//角色说明
        is_login:Number,//是否允许登录
        is_to_back:Number,//是否允许进入后台
        is_get_user:Number,//是否允许获取用户信息
        is_ope_user:Number,//是否允许操作用户表
        is_get_role:Number,//是否允许读取权限信息
        is_ope_role:Number,//是否允许操作权限信息
        is_get_problem:Number,//是否允许获取题库
        is_ope_problem:Number,//是否允许操作题库
        is_get_contest:Number,//是否允许获取竞赛
        is_ope_contest:Number,//是否允许操作竞赛
        is_get_contest_problem:Number,//是否允许获取竞赛中的题
        is_ope_contest_problem:Number,//是否允许操作竞赛中的题
        is_get_contest_user:Number,//是否获取竞赛中的用户
        is_ope_contest_user:Number,//是否允许操作竞赛中的用户
        is_get_message:Number,//是否允许获取公告信息
        is_ope_message:Number,//是否允许操作公告信息
        is_submit_code:Number,//是否提交代码
        is_get_solution:Number,//是否允许获取状态
        is_get_solution_rank:number,//是否允许获取排名
        is_get_class:Number,//+1.0.1 是否允许读取班级
 	    is_opt_class:Number,//+1.0.1 是否允许操作班级
    //--END--
	//--active:-1--
		role_id:Number,角色id
	//--END--
}
```

响应：

```js
{
	statusCode:Number,
	message:String,
	data:{
		role_id:Number,//角色id
        name:String,//角色名称
        note:String,//角色说明
        is_login:Number,//是否允许登录
        is_to_back:Number,//是否允许进入后台
        is_get_user:Number,//是否允许获取用户信息
        is_ope_user:Number,//是否允许操作用户表
        is_get_role:Number,//是否允许读取权限信息
        is_ope_role:Number,//是否允许操作权限信息
        is_get_problem:Number,//是否允许获取题库
        is_ope_problem:Number,//是否允许操作题库
        is_get_contest:Number,//是否允许获取竞赛
        is_ope_contest:Number,//是否允许操作竞赛
        is_get_contest_problem:Number,//是否允许获取竞赛中的题
        is_ope_contest_problem:Number,//是否允许操作竞赛中的题
        is_get_contest_user:Number,//是否获取竞赛中的用户
        is_ope_contest_user:Number,//是否允许操作竞赛中的用户
        is_get_message:Number,//是否允许获取公告信息
        is_ope_message:Number,//是否允许操作公告信息
        is_submit_code:Number,//是否提交代码
        is_get_solution:Number,//是否允许获取状态
        is_get_solution_rank:number,//是否允许获取排名
        is_get_class:Number,//+1.0.1 是否允许读取班级
    	is_opt_class:Number,//+1.0.1 是否允许操作班级
	}
}
```

#### 获取班级列表

接口：POST /api/v1/getClassList

条件：拥有相应的权限

请求：null

响应：

```js
{
	statusCode:Number,
	message:String,
	data:{
        class_id:Number,
        name:String,//班级名称
        info:String,//班级信息
	}
}
```

#### 班级的操作

接口：POST /api/v1/classOperate

条件：拥有相应的权限

请求：

```js
{
	active:Number,//0表示修改 -1表示删除 1表示添加
    //--active:0--
        class_id:Number,
        name:String,//班级名称
        info:String,//班级信息
 	//--END--
	//--active:1--
        name:String,//班级名称
        info:String,//班级信息
    //--END--
	//--active:-1--
		class_id:Number,
	//--END--
}
```

响应：

```js
{
	statusCode:Number,
	message:String,
	data:{
        class_id:Number,
        name:String,//班级名称
        info:String,//班级信息
	}
}
```



#### 获取题库列表

接口：POST /api/v1/getProblemList

条件：拥有相应的权限

请求：

```js
{
    filterAnd:[ //并且条件
        {
            field:String,//['problem_id', 'problem_type', 'title', 'hard'] 筛选字段
            text:String,//*筛选关键字
            is_like:Number,//[0,1]是否开启模糊查找
        }
    ],
    filterOr:[ //或者条件
        {
            field:String,//['problem_id', 'problem_type', 'title', 'hard'] 筛选字段
            text:String,//*筛选关键字
            is_like:Number,//[0,1]是否开启模糊查找
        }
    ],
    orderBy:{
        field:String,//[ 'hard','title','problem_type','problem_id'] 根据哪个字段排序
        mode:String,//['ASC','DESC'] ASC为升序 DESC为降序	
    }
}
```

相应：

```js
{
	statusCode:Number,
	message:String,
	data:[{
        problem_id:Number,//题目id
        problem_type:String,//类型表：problem_select、problem_gap、problem_prog
        title:String,//题目标题
        description:String,//题目描述
        hint:String,//提示
        source:String,//来源 
        tag:String,// 标签 例如:简单,算法 +1.0.1
        in_date:DateString,//加入时间
        is_defunct:String,//是否屏蔽
        accepted:Number,//总ac数
        submit:Number,//总提交数
        hard:Number,//难度0-10 对应着积分
        //--problem_type:problem_select--
            is_radio:Number,//是否为单选
            options:JSONString,//选项JSON串，
            /*
            tempate:
                ["选项1","选项2","选项3","选项4"]
            */
        //--END--
        //--problem_type:problem_gap--
            is_normal:Number,//是否为普通填空
        //--END--
        //--problem_type:problem_prog--
            input:String,//输入说明
            output:String,//输出说明
            sample_input:String,//输入参照
            sample_output:String,//输出参照
            time_limit:Number,//限制时间（毫秒）
            memory_limit:Number,//空间限制（兆字节）
        //--END-- 
	}
         ]
}
```



#### 题库的操作

接口：POST /api/v1/problemOperate

条件：拥有相应的权限

注意：

	在操作题库的时候,需要在`/home/judge/data/{题目编号}/`创建test.in,test.out文件（in表示输入,out表示输出）

请求：

```js
{
	active:Number,//0表示修改 -1表示删除 1表示添加
    //--active:0--
        problem_id:Number,//题目id
        problem_type:String,//类型表：problem_select、problem_gap、problem_prog
        title:String,//题目标题
        description:String,//题目描述
        hint:String,//提示
        source:String,//来源
        tag:String,// 标签 例如:简单,算法 +1.0.1
        is_defunct:Boolean,//是否屏蔽
        accepted:Number,//总ac数
        submit:Number,//总提交数
        hard:Number,//难度0-10 对应着积分
     	//--problem_type:problem_select--
            is_radio:Number,//是否为单选
            options:JSONString,//选项JSON串，
            /*
            tempate:
                ["选项1","选项2","选项3","选项4"]
            */
            answers:JSONString,//答案JSON串
            /*
            tempate:
                ["答案1","答案2"] // 多选
                ["答案1"]	// 单选
            */
        //--END--
        //--problem_type:problem_gap--
    	    is_normal:Number,//是否为普通填空 或 程序填空题
            keywords:JSONString,//答案里出现的关键字,JSON串
            /*
            tempate:
                ["关键字1","关键字2"]
            */
            nokeywords:JSONString,//答案里不能出现的关键字,JSON串
            /*
            tempate:
                ["关键字1","关键字2"]
            */
        //--END--
        //--problem_type:problem_prog--
            input:String,//输入说明
            output:String,//输出说明
            sample_input:String,//输入参照
            sample_output:String,//输出参照
            time_limit:Number,//限制时间（毫秒）
            memory_limit:Number,//空间限制（兆字节）
        //--END-- 
	//--END--
	//--active:1--
        problem_type:String,//类型表：problem_select、problem_gap、problem_prog
        title:String,//题目标题
        description:String,//题目描述
        hint:String,//提示
        source:String,//来源
        tag:String,// 标签 例如:简单,算法 +1.0.1
        in_date:DateString,//加入时间
        defunct:String,//是否屏蔽
        accepted:Number,//总ac数
        submit:Number,//总提交数
        hard:Number,//难度0-10 对应着积分
    	//--problem_type:problem_select--
            is_radio:Number,//是否为单选
            options:JSONString,//选项JSON串，
            /*
            tempate:
                ["选项1","选项2","选项3","选项4"]
            */
            answers:JSONString,//答案JSON串
            /*
            tempate:
                ["答案1","答案2"] // 多选
                ["答案1"]	// 单选
            */
        //--END--
        //--problem_type:problem_gap--
        	is_normal:Number,//是否为普通填空
            keywords:JSONString,//答案里出现的关键字,JSON串
            /*
            tempate:
                ["关键字1","关键字2"]
            */
            nokeywords:JSONString,//答案里不能出现的关键字,JSON串
            /*
            tempate:
                ["关键字1","关键字2"]
            */
        //--END--
        //--problem_type:problem_prog--
            input:String,//输入说明
            output:String,//输出说明
            sample_input:String,//输入参照
            sample_output:String,//输出参照
            time_limit:Number,//限制时间（毫秒）
            memory_limit:Number,//空间限制（兆字节）
        //--END-- 
	//--END--
	//--active:-1--
        problem_id:Number,题目id
	//--END--
}
```

响应：

```js
{
	statusCode:Number,
	message:String,
	data:{
        problem_id:Number,//题目id
        problem_type:String,//类型表：problem_select、problem_gap、problem_prog
        title:String,//题目标题
        description:String,//题目描述
        hint:String,//提示
        source:String,//来源
        tag:String,// 标签 例如:简单,算法 +1.0.1
        in_date:DateString,//加入时间
        defunct:String,//是否屏蔽
        accepted:Number,//总ac数
        submit:Number,//总提交数
        hard:Number,//难度0-10 对应着积分
        //--problem_type:problem_select--
            is_radio:Number,//是否为单选
            options:JSONString,//选项JSON串，
            /*
            tempate:
                ["选项1","选项2","选项3","选项4"]
            */
            answers:JSONString,//答案JSON串
            /*
            tempate:
                ["答案1","答案2"] // 多选
                ["答案1"]	// 单选
            */
        //--END--
        //--problem_type:problem_gap--
        	is_normal:Number,//是否为普通填空
            keywords:JSONString,//答案里出现的关键字,JSON串
            /*
            tempate:
                ["关键字1","关键字2"]
            */
            nokeywords:JSONString,//答案里不能出现的关键字,JSON串
            /*
            tempate:
                ["关键字1","关键字2"]
            */
        //--END--
        //--problem_type:problem_prog--
            input:String,//输入说明
            output:String,//输出说明
            sample_input:String,//输入参照
            sample_output:String,//输出参照
            time_limit:Number,//限制时间（毫秒）
            memory_limit:Number,//空间限制（兆字节）
        //--END-- 
	}
}
```

#### 获取竞赛列表

接口： POST /api/v1/getContestList

条件：拥有相应的权限

请求：

```js
{
    filterAnd:[ //并且条件
        {
            field:String,//['contest_id','title', 'is_public'] 筛选字段
            text:String,//*筛选关键字
            is_like:Number,//[0,1]是否开启模糊查找
        }
    ],
    filterOr:[ //或者条件
        {
            field:String,//['contest_id','title', 'is_public']  筛选字段
            text:String,//*筛选关键字
            is_like:Number,//[0,1]是否开启模糊查找
        }
    ],
    orderBy:{
        field:String,//['contest_id',title', 'start_time']  根据哪个字段排序
        mode:String,//['DESC','ASC'] ASC为升序 DESC为降序	
    }
}
```

响应：

```js
{
	statusCode:Number,
	message:String,
	data:[
		{
            contest_id:Number, //竞赛id
            title:String, //竞赛标题
            description:String, //描述
            start_time:DateString, //开始时间
            end_time:DateString, //结束时间
            defunct:Number, //是否屏蔽
            is_public:Number, //是否公开 -+1.0.1
            notice:String,//比赛须知 +1.0.1
            award:JSONString,//比赛奖励 +1.0.1
            /*
                tempate:
                [
                    {
                        text:String,//说明
                        poi:Number,//奖励积分
                    }
                ]
            */
            flow:JSONString,//比赛流程 +1.0.1
            /*
                tempate:
                [
                    {
                        text:String,//说明
                        date:DateString,//时间
                    }
                ]
            */
        }
	]
}
```

#### 操作竞赛列表

接口：POST /api/v1/contestOperate

条件：拥有响应的权限

请求：

```js
{
	active:Number,//0表示修改 -1表示删除 1表示添加
    //--active:0--
        contest_id:Number, //竞赛id
        title:String, //竞赛标题
        description:String, //描述
        start_time:DateString, //开始时间
        end_time:DateString, //结束时间
        defunct:Number, //是否屏蔽
        is_public:Number, //是否公开 -+1.0.1
        notice:String,//比赛须知 +1.0.1
        award:JSONString,//比赛奖励 +1.0.1
        /*
                    tempate:
                    [
                        {
                            text:String,//说明
                            poi:Number,//奖励积分
                        }
                    ]
                */
        flow:JSONString,//比赛流程 +1.0.1
        /*
                    tempate:
                    [
                        {
                            text:String,//说明
                            date:DateString,//时间
                        }
                    ]
           */
    //--END--
	//--active:1--
        title:String, //竞赛标题
        description:String, //描述
        start_time:DateString, //开始时间
        end_time:DateString, //结束时间
        defunct:Number, //是否屏蔽
        is_public:Number, //是否公开 -+1.0.1
        notice:String,//比赛须知 +1.0.1
        award:JSONString,//比赛奖励 +1.0.1
            /*
                tempate:
                [
                    {
                        text:String,//说明
                        poi:Number,//奖励积分
                    }
                ]
            */
        flow:JSONString,//比赛流程 +1.0.1
            /*
                tempate:
                [
                    {
                        text:String,//说明
                        date:DateString,//时间
                    }
                ]
            */
    //--END--
	//--active:-1--
		contest_id:Number, //竞赛id
	//--END--
}
```

响应：

```js
{
	statusCode:Number,
	message:String,
	data:{
        contest_id:Number, //竞赛id
        title:String, //竞赛标题
        description:String, //描述
        start_time:DateString, //开始时间
        end_time:DateString, //结束时间
        defunct:Number, //是否屏蔽
        is_public:Number, //是否公开 -+1.0.1
        notice:String,//比赛须知 +1.0.1
        award:JSONString,//比赛奖励 +1.0.1
            /*
                tempate:
                [
                    {
                        text:String,//说明
                        poi:Number,//奖励积分
                    }
                ]
            */
        flow:JSONString,//比赛流程 +1.0.1
            /*
                tempate:
                [
                    {
                        text:String,//说明
                        date:DateString,//时间
                    }
                ]
            */
	}
}
```

#### 获取指定竞赛id的竞赛题目

接口：POST /api/v1/getContestProblem

条件：拥有相应的权利

请求：

```
{
	contest_id:Number,
}
```

响应：

```js
{
	statusCode:Number,
	message:String,
	data:[
		{
            problem_id:Number,//题目id
            contest_id:Number,//竞赛id
            title:String,// 题目
            num:Number, //竞赛题目编号
            problem_type:String,//类型表：problem_select、problem_gap、problem_prog
            title:String,//题目标题
            description:String,//题目描述
            hint:String,//提示
            source:String,//来源 
            tag:String,// 标签 例如:简单,算法 +1.0.1
            hard:Number,//难度0-10 对应着积分
            is_judge:Number, //是否立即判题（对程序题不生效）
            //--problem_type:problem_select--
                is_radio:Number,//是否为单选
                options:JSONString,//选项JSON串，
                /*
                tempate:
                    ["选项1","选项2","选项3","选项4"]
                */
                answers:JSONString,//答案JSON串
                /*
                tempate:
                    ["答案1","答案2"] // 多选
                    ["答案1"]	// 单选
                */
            //--END--
            //--problem_type:problem_gap--
                is_normal:Number,//是否为普通填空
                keywords:JSONString,//答案里出现的关键字,JSON串
                /*
                tempate:
                    ["关键字1","关键字2"]
                */
                nokeywords:JSONString,//答案里不能出现的关键字,JSON串
                /*
                tempate:
                    ["关键字1","关键字2"]
                */
            //--END--
            //--problem_type:problem_prog--
                input:String,//输入说明
                output:String,//输出说明
                sample_input:String,//输入参照
                sample_output:String,//输出参照
                time_limit:Number,//限制时间（毫秒）
                memory_limit:Number,//空间限制（兆字节）
            //--END-- 
        }
	]
}
```

#### 操作指定竞赛id的竞赛题目

接口：POST /api/v1/contestProblemOperate

条件：拥有相应权力

请求：

```js
{
	active:Number,
	//active:0,
        problem_id:Number,//题目id
        contest_id:Number,//竞赛id
        title:String, //题目
        num:Number, //竞赛题目编号
     	is_judge:Number, //是否立即判题（对程序题不生效）
    //--END--
    //active:1
        contest_id:Number,//竞赛id
        problem_id:Number,//题id
        title:String, //题目
        num:Number, //竞赛题目编号
     	is_judge:Number, //是否立即判题（对程序题不生效）
    //--END--
    //active:-1
        contest_id:Number,//竞赛id
        problem_id:Number,//题目id
   	//--END--
}
```

响应：

```js
{
	statusCode:Number,
	message:String,
	data:{
		problem_id:Number,//题目id
        contest_id:Number,//竞赛id
        title:String,// 题目
        num:Number, //竞赛题目编号
        problem_type:String,//类型表：problem_select、problem_gap、problem_prog
        title:String,//题目标题
        description:String,//题目描述
        hint:String,//提示
        source:String,//来源 
        tag:String,// 标签 例如:简单,算法 +1.0.1
        hard:Number,//难度0-10 对应着积分
        is_judge:Number, //是否立即判题（对程序题不生效）
        //--problem_type:problem_select--
        is_radio:Number,//是否为单选
        options:JSONString,//选项JSON串，
        /*
        tempate:
        ["选项1","选项2","选项3","选项4"]
        */
        answers:JSONString,//答案JSON串
        /*
        tempate:
        ["答案1","答案2"] // 多选
        ["答案1"]	// 单选
        */
        //--END--
        //--problem_type:problem_gap--
        keywords:JSONString,//答案里出现的关键字,JSON串
        /*
        tempate:
        ["关键字1","关键字2"]
        */
        nokeywords:JSONString,//答案里不能出现的关键字,JSON串
        /*
        tempate:
        ["关键字1","关键字2"]
        */
        //--END--
        //--problem_type:problem_prog--
        input:String,//输入说明
        output:String,//输出说明
        sample_input:String,//输入参照
        sample_output:String,//输出参照
        time_limit:Number,//限制时间（毫秒）
        memory_limit:Number,//空间限制（兆字节）
        //--END-- 
	}
}
```

#### 获取指定竞赛id的竞赛人员

接口：POST /api/v1/getContestUser

条件：需要相应的权限

请求：

```
{
	contest_id:Number,
}
```

响应：

```js
{
	statusCode:Number,
	message:String,
	data:[{
        id:Number,//唯一id
        contest_id:Number,//竞赛id
        langmask:String, //限制语言 eg:0,1,2
        ac_count:Number, //完成数
        submit_count:Number, //提交数
        accuracy:Number,//正确率
        last_ac_time:Date,//最后AC时间
        user_id:Number,//用户id
        username:String,//账号
        nickname:String,//昵称
        own_sign:String,//个性签名 +1.0.1
        via:String,//头像 +1.0.1
        name:String,//姓名
        sex:Number,//性别 check(0,1) 0表示男,1表示女
        school_id:Number,//学校id
        class_id:Number,//班级id
        in_date:DateString,//创建时间
        last_date:DateString,//上次登录
        email:String,//电子邮箱
        gitee_username:String,//gitee账号 +1.0.1
        role_id:Number,//角色id
	}]
}
```

#### 操作指定竞赛id的竞赛人员

接口：POST /api/v1/contestUserOperate

条件：拥有相应权力

请求：

```js
{
	active:Number,
	//--active:0--
	id:Number,//唯一id
	contest_id:Number,//竞赛id
	user_id:Number,//用户id
	//--END--
	langmask:String, //限制语言 eg:0,1,2
    //--active:1--
	contest_id:Number,//竞赛id
	user_id:Number,//用户id
	langmask:String, //限制语言 eg:0,1,2
    num:Number, //竞赛题目编号
    //--END--
    //--active:-1--
    id:Number,//唯一id
    //--END--
}
```

响应：

```js
{
	statusCode:Number,
	message:String,
	data:{
        id:Number,//唯一id
        contest_id:Number,//竞赛id
        langmask:String, //限制语言 eg:0,1,2
        ac_count:Number, //完成数
        submit_count:Number, //提交数
        accuracy:Number,//正确率
        last_ac_time:Date,//最后AC时间
        user_id:Number,//用户id
        username:String,//账号
        nickname:String,//昵称
        own_sign:String,//个性签名 +1.0.1
        via:String,//头像 +1.0.1
        name:String,//姓名
        sex:Number,//性别 check(0,1) 0表示男,1表示女
        school_id:Number,//学校id
        class_id:Number,//班级id
        in_date:DateString,//创建时间
        last_date:DateString,//上次登录
        email:String,//电子邮箱
        gitee_username:String,//gitee账号 +1.0.1
        role_id:Number,//角色id
        submit_count:Number,//提交次数
        ac_count:Number,//完成的题数
        poi:Number,//积分 +1.0.1 
        exp:Number,//经验值
	}
}
```

#### 获取公告信息

接口：POST	/api/v1/getMessage

条件：拥有响应的权限

请求：

```js
{
    filterAnd:[ //并且条件
        {
            field:String,//['title', 'contest_id'] 筛选字段
            text:String,//*筛选关键字
            is_like:Number,//[0,1]是否开启模糊查找
        }
    ],
    filterOr:[ //或者条件
        {
            field:String,//['title', 'contest_id'] 筛选字段
            text:String,//*筛选关键字
            is_like:Number,//[0,1]是否开启模糊查找
        }
    ],
    orderBy:{
        field:String,//['in_date', 'update_date', id']  根据哪个字段排序
        mode:String,//['DESC','ASC'] ASC为升序 DESC为降序	
    }
}
```

响应：

```js
{
	statusCode:Number,
	message:String,
	data:[
		{
            id:Number,//公告id
            title:Number,//公告标题
            contest_id:Number,//竞赛id +1.0.1
            in_date:DateString,//添加时间
            update_date:DateString,//更新时间
            user_id:Number,//发布用户id
            username:String,//发布的用户名
            content:String,//内容
		}
	]
}
```

#### 操作公告信息

接口：POST /api/v1/messageOperate

条件：拥有相应权力

请求：

```js
{
	active:Number,
	//active:0,
	id:Number,//公告id
	title:Number,//公告标题
	contest_id:Number,//竞赛id +1.0.1
	in_date:DateString,//添加时间
	update_date:DateString,//更新时间
	user_id:Number,//发布用户id
	content:String,//内容
    //active:1
	title:Number,//公告标题
	contest_id:Number,//竞赛id +1.0.1
	in_date:DateString,//添加时间
	update_date:DateString,//更新时间
	user_id:Number,//发布用户id
	content:String,//内容
    //active:-1
    id:Number,//唯一id
}
```

响应：

```js
{
	statusCode:Number,
	message:String,
	data:{
        id:Number,//公告id
        title:Number,//公告标题
        contest_id:Number,//竞赛id +1.0.1
        in_date:DateString,//添加时间
        update_date:DateString,//更新时间
        user_id:Number,//发布用户id
        content:String,//内容
	}
}
```

#### 提交程序题

接口：POST /api/v1/submitCode

条件：拥有权限

请求：

```js
{
	problem_id:Number,
	language:Number, //使用语言
	ip:String,
	contest_id:Number,//竞赛的id 如果等于0 则表示普通提交,并且num不生效
	num:Number,//竞赛中题的编号 
	text:String,//源码
}
```

响应：

```js
{
	statusCode:Number,
	message:String,
	data:{
		solution_id:Number, //运行id
        problem_id:Number, //题目id
        user_id:Number, //提交的用户id
        time:Number, //用时(毫秒)
        memory:Number, //占用内存
        in_date:Date, //添加时间
        result:Number, //判题结果
        language:Number, //使用的语言
        ip:String, //用户的ip,
        contest_id:Number, //所属的竞赛组id
        valid:Number, //是否有效
        num:Number, //竞赛中的序号
        code_length:Number, //代码长度
        judgetime:Date, //判题时间
        pass_rate:Number, //通过率
	}
}
```


#### 提交选择填空题

接口：POST /api/v1/submitOther

条件：拥有权限

请求：

```js
{
	problem_id:Number,
    type:String,//* ['problem_select','problem_gap'] 题的类型
	ip:String,
	contest_id:Number,//竞赛的id 如果等于0 则表示普通提交,并且num不生效
	num:Number,//竞赛中题的编号 
	text:String//用户的选项内容，或填写的内容，如果为多选题则以逗号分隔,
}
```

响应：

```js
{
	statusCode:Number,
	message:String,
	data:{
        solution_id:Number, //运行id
        problem_id:Number, //题目id
        user_id:Number, //提交的用户id
        in_date:DateString, //添加时间
        result:Number, //判题结果
        ip:String, //用户的ip,
        contest_id:Number, //所属的竞赛组id
        valid:Number, //是否有效
        num:Number,// 竞赛中题目的序号
        judgetime:DateString, //判题时间
        text:String,//用户的选择内容，或填写内容
        is_judge:Number,//是否立即显示判题结果
	}
}
```

#### 获取程序运行列表

接口：POST /api/getSolutionList

条件：权限

请求：

```js
{
    filterAnd:[ //并且条件
        {
            field:String,//['solution_id', 'username', 'contest_id'] 筛选字段
            text:String,//*筛选关键字
            is_like:Number,//[0,1]是否开启模糊查找
        }
    ],
    filterOr:[ //或者条件
        {
            field:String,//['solution_id', 'username', 'contest_id'] 筛选字段
            text:String,//*筛选关键字
            is_like:Number,//[0,1]是否开启模糊查找
        }
    ],
    orderBy:{
        field:String,//['in_date', 'language']  根据哪个字段排序
        mode:String,//['DESC','ASC'] ASC为升序 DESC为降序	
    }
}
```

响应：

```js
{
	statusCode:Number,
	message:String,
	data:[
		{
            solution_id:Number, //运行id
            problem_id:Number, //题目id
            username:String, //提交的用户账号
            time:Number, //用时(毫秒)
            memory:Number, //占用内存
            in_date:Date, //添加时间
            result:Number, //判题结果
            language:Number, //使用的语言
            ip:String, //用户的ip,
            contest_id:Number, //所属的竞赛组id
            valid:Number, //是否有效
            num:Number, //竞赛中的序号
            code_length:Number,// 代码长度
            judgetime:Date,// 判题时间
            pass_rate:Number, //通过率
		}
	]
}
```

#### 获取排名//-1.0.1

接口：POST /api/v1/getRanking

请求：

```js
{
	contest_id:Number,//竞赛id
}
```

响应：

```js
{
	statusCode:Number,
	message:String,
	data:[
		{
            user_id:Number,//用户id
            username:String,//账号
            nickname:String,//昵称
            own_sign:String,//个性签名 +1.0.1
            via:String,//头像 +1.0.1
            name:String,//姓名
            sex:Number,//性别 check(0,1) 0表示男,1表示女
            school_id:Number,//学校id
            class_id:Number,//班级id
            in_date:DateString,//创建时间
            last_date:DateString,//上次登录
            sgin:String,//MD5签名
            email:String,//电子邮箱
            gitee_username:String,//gitee账号 +1.0.1
            submit_count:Number,//提交次数
            ac_count:Number,//完成的题数
            poi:Number,//积分 +1.0.1 
            exp:Number,//经验值
		}
	]
}
```

#### 获取题的状态 //+1.0.1

接口：POST /api/v1/getProblemStatus

条件: 需要登录

请求:

```js
{
    user_id:Number,//用户的id
    active:String,//['problem','contest'] 获取类型
	contest_id:Number,// 0:获取所有的比赛做题状态， 竞赛id
    num:Number,//竞赛题的编号
    problem_id:Number,//0:表示所有的题状态
}
```

响应:

```js
{
	statusCode:Number,
	message:String,
	data:[
		{
			problem_id:Number,
			contest_id:Number, //contest_id == 0 的话 num不启用
			contest_title:String,//竞赛标题
			num:Number, //竞赛中题的编号
			problem_type:String,//题的类型
			status:Number,//[0,1,2]题的状态 0:错误 1:正确 2:其他（未登录、没做）
            text:String,//用户如果做了，显示他上次提交的内容
		}
	]
}
```

#### 手动触发判题 //+1.0.1

接口:POST /api/v1/judge

条件:必须是后台管理员

请求:

```js
{
	contest_id:Number,//竞赛id
}
```

响应:

```js
{
	statusCode:Number,
	message:String,
	data:[
		{
            solution_id:Number, //运行id
            problem_id:Number, //题目id
            user_id:Number, //提交的用户id
            in_date:DateString, //添加时间
            result:Number, //判题结果
            ip:String, //用户的ip,
            contest_id:Number, //所属的竞赛组id
            valid:Number, //是否有效
            num:Number,// 竞赛中题目的序号
            judgetime:DateString, //判题时间
            text:String,//用户的选择内容，或填写内容
            is_judge:Number,//是否立即显示判题结果
		}
	]
}
```

## 最后

有问题请提交Issue